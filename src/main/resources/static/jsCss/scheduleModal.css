 /* ========== Tokens ========== */
:root {
    --line: #e2e8f0;
    --muted: #6b7280;
    --brand: #2563eb;
    --brand-weak: #e6efff;
    --danger: #ef4444;
    --shadow: 0 6px 18px rgba(2, 6, 23, 0.06);
    --preview-color: rgba(99, 179, 237, 0.25); /* 프리뷰 박스 배경 */
}

/* ========== Base ========== */
body {
    margin: 0;
    padding: 0;
    font-family: 'Montserrat', sans-serif;
    background-color: #f7f9fc;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

header {
    padding: 20px;
    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.1);
    background-color: rgba(255, 255, 255, 0.85);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e2e8f0;
}

h1 {
    font-size: 2.3rem;
    font-weight: bold;
    color: var(--brand);
    margin: 0;
}
h1 a {
    text-decoration: none;
    color: inherit;
}

nav a {
    margin-left: 20px;
    text-decoration: none;
    color: #333;
    font-weight: 500;
    transition: color 0.2s ease, font-size 0.2s ease;
}
nav a:hover {
    color: #3b82f6;
    font-size: 1.1rem;
}

main { flex: 1; padding: 20px 0; }

/* ========== Layout (Grid) ========== */
.container {
    display: grid;
    grid-template-columns: 2fr 1fr; /* 좌: 대표(넓게) / 우: 사이드 */
    gap: 16px;
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
    padding: 20px 16px;
}
.sidebar {
    display: flex;
    flex-direction: column;
    gap: 16px;
}
@media (max-width: 900px) {
    .container { grid-template-columns: 1fr; }
}

/* ========== Cards / Boxes ========== */
.box {
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 14px;
    padding: 16px 18px;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    min-height: 160px;
    box-sizing: border-box;
    transition: transform .3s ease, box-shadow .3s ease;
}
.box3 { min-height: 220px; }
.box:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
}
.sidebar .box + .box { margin-top: 5px; }

.box .card-title {
    display: flex; align-items: center; gap: 10px;
    margin: 0 0 12px;
    font-size: 16px; font-weight: 800;
}
.box .card-title .icon {
    display: inline-flex; align-items: center; justify-content: center;
    width: 28px; height: 28px;
    border-radius: 8px; background: var(--brand-weak);
    font-size: 16px;
}

/* ========== Typography / Sections ========== */
h2, h3 { margin: 0 0 10px; font-size: 1.1rem; color: #111827; }
.section { margin-bottom: 10px; }
.info p { margin: 3px 0; font-size: .9rem; color: #374151; }

/* 제목-액션 가로 정렬 */
.section-header {
    display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.section-header h3 { margin: 0; line-height: 1; transform: translateY(-3px); }
.section-header .actions { display: flex; gap: 8px; }
.section-header .actions button { width: auto; margin-top: 0; padding: 8px 12px; }
@media (max-width: 560px) {
    .section-header { flex-wrap: wrap; }
    .section-header .actions { width: 100%; justify-content: flex-start; }
}

/* ========== Buttons ========== */
button {
    background-color: var(--brand);
    color: #fff;
    border: none;
    padding: 10px 16px;
    border-radius: 10px;
    font-size: .9rem;
    cursor: pointer;
    transition: background-color .25s ease, transform .25s ease;
}
button:hover { background-color: #1e40af; transform: scale(1.03); }
button.red { background-color: var(--danger); }
button.red:hover { background-color: #dc2626; }

/* ========== Representative Schedule Container ========== */
.representative-container { width: 100%; }
.representative-box {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,.05);
    padding: 30px; box-sizing: border-box;
}
/* 대표 시간표 폭 지정 & 중앙 정렬 */
#repGridCard { width: 750px; margin: 0 auto; }

/* ========== Footer ========== */
footer {
    background-color: rgba(30, 30, 30, 0.98);
    color: rgba(200, 200, 200, 0.7);
    font-size: .9rem;
    padding: 2rem 1rem;
    text-align: center;
    border-top: 1px solid #444;
    margin-top: auto;
}
footer a { text-decoration: none; color: rgba(200, 200, 200, 0.7); margin: 0 10px; }
footer a:hover { text-decoration: underline; }

/* ========== Select (Custom) ========== */
select {
    appearance: none; -webkit-appearance: none; -moz-appearance: none;
    background-color: #fff;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 1rem; color: #111827;
    font-family: 'Montserrat', sans-serif;
    cursor: pointer;
    transition: border-color .2s ease, box-shadow .2s ease;
    background-image: url("data:image/svg+xml;utf8,<svg fill='gray' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 16px 16px;
    padding-right: 40px;
}
select:hover { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(37,99,235,.2); }
select:focus { outline: none; border-color: var(--brand); box-shadow: 0 0 0 3px rgba(37,99,235,.3); }

/* ========== Modal ========== */
.modal-overlay {
    position: fixed; inset: 0;
    background-color: rgba(0,0,0,0.5);
    display: flex; justify-content: center; align-items: center;
    z-index: 1000;
}
.modal-wrapper { display: contents; }
.modal {
    background: #fff; border-radius: 12px;
    padding: 24px 32px;
    max-width: 400px; width: 90%;
    box-shadow: 0 6px 24px rgba(0,0,0,.2);
    text-align: center;
    display: flex; flex-direction: row; gap: 16px;
}
.modal-buttons {
    display: flex; justify-content: center; gap: 12px; margin-top: 8px;
}
.modal-buttons button {
    flex: 1; max-width: 120px;
    padding: .6rem 0; border-radius: 8px; font-size: .95rem;
    transition: transform .15s, box-shadow .15s, opacity .15s;
}
.modal-buttons #confirm,
.modal-buttons #changePwBtn { background-color: var(--brand); color: #fff; }
.modal-buttons #close-btn,
.modal-buttons #cancelChange { background-color: #e0e0e0; color: #333; }
.modal-buttons button:hover { transform: translateY(-1px); opacity: .9; }
.modal-buttons button:active { transform: translateY(1px); }
.modal input[type='password'] {
    width: 100%; padding: .75rem 1rem;
    border: 1px solid #ccc; border-radius: 8px; font-size: 1rem;
    box-sizing: border-box;
}
.hidden { display: none; }
body.modal-open { overflow: hidden; }

/* ========== Semester List ========== */
#semesterList { list-style: none; padding-left: 0; margin: 12px 0 0 0; }
#semesterList li {
    margin: 5px 0;
    display: flex; justify-content: space-between; align-items: center;
}
#semesterList .semester-item {
    display: flex; align-items: center; justify-content: space-between; gap: 14px;
    border: 1px solid #e5e7eb; border-radius: 10px;
    padding: 10px 14px; background: #fff;
    transition: background-color .15s ease, box-shadow .15s ease, border-color .15s ease;
    cursor: pointer; width: 80%;
}
#semesterList .semester-item:hover {
    background: #f9fafb; border-color: #d1d5db; box-shadow: 0 4px 12px rgba(0,0,0,.04);
}
#semesterList .semester-name { color: #111827; text-decoration: none; font-weight: 600; }
#semesterList .semester-actions { display: flex; align-items: center; gap: 10px; }
#semesterList .rep-label { display: inline-flex; align-items: center; gap: 6px; cursor: pointer; }
#semesterList .del-btn {
    background: transparent; border: none; cursor: pointer; padding: 4px;
    display: flex; align-items: center; justify-content: center;
}
/* 더보기 버튼 */
.hidden-semester { display: none !important; }
#showMoreBtn {
    margin-top: 10px; width: 100%;
    background: #f3f4f6;
    border: 1px solid #e5e7eb; color: #111827;
    border-radius: 10px; padding: 8px 12px; cursor: pointer; font-size: .92rem;
}
#showMoreBtn:hover { background: #eceff3; }

/* ========== Course Tooltip ========== */
.course-tooltip { animation: fadeIn .12s; }
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* ========== Tech Tree Small Cards ========== */
.details-container {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 10px; margin-top: 10px;
}
@media (max-width: 420px) {
    .details-container { grid-template-columns: repeat(2, 1fr); }
}
.detail {
    border: 1px solid var(--line); border-radius: 10px; background-color: #fff;
    height: 70px; display: flex; flex-direction: column; justify-content: center; align-items: center;
    box-shadow: 0 2px 6px rgba(0,0,0,.1);
    transition: transform .2s ease-in-out, box-shadow .2s ease-in-out;
}
.detail:hover { transform: translateY(-4px); box-shadow: 0 8px 16px rgba(0,0,0,.15); cursor: pointer; }
.detail .label { font-size: 17px; font-weight: bold; margin-bottom: 4px; }
.detail .value { font-size: 20px; font-weight: 700; color: #007bff; }

.box .desc-list { margin: 8px 0 14px; }
.box .desc-list div { display: flex; gap: 10px; padding: 6px 0; border-bottom: 1px dashed var(--line); }
.box .desc-list dt { width: 66px; color: var(--muted); font-weight: 700; }
.box .desc-list dd { margin: 0; }
.box2 .subtext, .box3 .subtext {
    font-size: .85rem; line-height: 1.4; color: var(--muted); margin-top: 4px;
}

/* ========== Schedule (Grid-based) ========== */
.schedule-card {
    border: 1px solid var(--line);
    border-radius: 14px;
    overflow: hidden;
    background: #fff;
    box-shadow: var(--shadow);
}
.schedule-header {
    display: grid; grid-template-columns: 120px repeat(5, 1fr);
    background: #f9fbff; border-bottom: 1px solid var(--line);
}
.schedule-header > div { padding: 12px; font-weight: 700; text-align: center; }
.schedule-body { display: flex; flex-direction: column; }

/* Grid 본체 */
.schedule-grid {
    display: grid;
    grid-template-columns: 120px repeat(5, 1fr); /* 시간열 + 월~금 */
    grid-auto-rows: 80px;                        /* 교시 높이 (모달/대표에서 JS로 조정 가능) */
    grid-auto-flow: row dense;
    position: relative;
    background: #fff;
    border-top: 1px solid var(--line);
    border-left: 1px solid var(--line);
}

/* 왼쪽 시간 셀 */
.time-cell {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    font-weight: 700; font-size: 14px;
    background: #fbfbfb;
    border-bottom: 1px solid var(--line);
    border-right: 1px solid var(--line);
}
.time-cell span { color: var(--muted); font-weight: 600; }

/* 빈 자리(격자) */
.cell-placeholder {
    border-right: 1px solid var(--line);
    border-bottom: 1px solid var(--line);
    position: relative;
}

 /* 과목 블록 (공통) */
 .course-block {
     /* 모서리를 부드럽게 둥글게 처리 */
     border-radius: 8px;

     /* 기본 테두리는 매우 연하게 처리 */
     border: 1px solid rgba(0, 0, 0, 0.1);

     /* 블록을 살짝 띄우는 느낌의 미묘한 그림자 (입체감 최소화) */
     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);

     color: #0f172a; /* 텍스트 색상 유지 */
     display: flex; align-items: center; justify-content: center;
     padding: 8px 10px; text-align: center;
     overflow: hidden;
 }

 /* 바쁜 상태(실제 배치) 시 배경 • 테두리 컬러 적용 */
 .course-block.busy {
     /* 기본 색상 변수 설정 */
     --c: var(--course-color, #a5d8ff);

     /* 배경은 흰색 바탕에 수업 색상을 아주 옅게 섞어 가독성을 높임 */
     background: color-mix(in srgb, var(--c) 8%, white);

     /* 기존의 복잡한 그라데이션 및 테두리 제거 */
     border: none;

     /* 수업 구분을 위해 왼쪽에 굵은 색상 악센트 추가 */
     border-left: 6px solid var(--c);
 }

 /* 블록 내부 텍스트 */
 .course-block .slot { line-height: 1.3; }
 .course-block .slot-title {
     font-size: 13px; font-weight: 800;
     white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
 }
 .course-block .slot-room {
     margin-top: 2px; font-size: 12px; font-weight: 600;
     /* 'var(--muted)'가 정의되지 않았을 경우를 대비해 폴백 색상 사용 */
     opacity: .85; color: var(--muted, #64748b);
 }

/* 프리뷰(미리보기) 블록 */
.preview-block {
    border-radius: 10px;
    border: 2px dashed rgba(0,0,0,.18);
    background: var(--preview-color);
    color: #0f172a;
    display: flex; align-items: center; justify-content: center;
    padding: 8px 10px; text-align: center;
    pointer-events: none;
    z-index: 9;
}
 .no-scrollbar {
     -ms-overflow-style: none;  /* IE, 옛날 Edge */
     scrollbar-width: none;     /* Firefox */
 }

 /* Chrome, Safari, 최신 Edge */
 .no-scrollbar::-webkit-scrollbar {
     display: none;
 }
